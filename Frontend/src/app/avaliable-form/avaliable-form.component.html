<div class="card">
  <form class="form-inline" [formGroup]="addCard" (ngSubmit)="onSubmit()">
    <div>
      <span class="close head" title="Exit" (click)="updateComplete()"
        >&times;</span
      >
    </div>
    <div class="card-body" style="border: none">
      <h6>Create Card :</h6>
      <div class="card">
        <div class="card-body inner">
          <div class="assignment">Assignment</div>
          <div class="form-group mx-sm-3 mb-2">
            <div>
              <select
                class="form-control"
                id="input_assignment_id"
                formControlName="assignmentId"
                placeholder="choose your assignment"
              >
                <option [ngValue]="null">choose your assignment</option>
                <option
                  *ngFor="let c of rAssignmentList"
                  value="{{ c.assignmentId }}"
                >
                  {{ c.assignmentName }}
                </option>
              </select>
            </div>
          </div>

          <div class="form-group mx-sm-3 mb-2">
            <div class="txt cardd">Card</div>
            <!-- <div>Actual time</div> -->
            <label class="txt actualtime">Actual Time</label>

            <input
              type="text"
              class="form-control"
              id="input_card_name"
              placeholder="type your card..."
              formControlName="cardName"
            />

            <input
              type="number"
              class="form-control"
              id="input_actual_time"
              placeholder="0"
              formControlName="actualTime"
            />
            <!-- <p>Actual Time</p> -->
            <div
              *ngIf="addCard.get('cardName').hasError('pattern')"
              class="error"
            >
              Card name has invalid characters.
            </div>
            <div
              *ngIf="addCard.get('actualTime').hasError('max')"
              class="error"
            >
              Actual time must be 1 to 24.
            </div>
            <div
              *ngIf="addCard.get('actualTime').hasError('min')"
              class="error"
            >
              Actual time must be 1 to 24.
            </div>
          </div>

          <button
            [disabled]="addCard.status === 'INVALID'"
            type="submit"
            class="btn btn-primary bottom"
            (onClick)="onSubmit()"
          >
            Submit
          </button>
        </div>
      </div>
    </div>
  </form>
  <div>
    <div>
      <h6 class="card-list-header">Card List :</h6>
    </div>

    <div class="form-group mx-sm-3 mb-2 d-flex">
      <div *ngFor="let c of cardsData" class="card-list">
        <div class="card list" *ngFor="let item of c.card; index as i">
          <div class="row">
            <div class="bold col-5">Card name :</div>
            <div class="card-body listt col-7">
              {{ item.cardName }}
            </div>
          </div>
          <div class="row">
            <div class="bold col-5">Assignment name :</div>
            <div class="card-body listt col-7">
              {{ item.assignmentName }}
            </div>
          </div>
          <span
            class="close"
            (click)="updateDeleteStatus(item.cardId)"
            title="Delete Card"
            >&times;</span
          >
          <form
            [formGroup]="editCard"
            (keydown)="keyDownFunction($event, item.cardId)"
          >
            <input
              type="number"
              class="form-control"
              id="input_card_actual_time_{{ i }}"
              max="16"
              maxlength="2"
              placeholder="{{ item.actualTime }}"
              formControlName="cardActualTime"
            />
            <button
              class="btn btn-primary bottom"
              [disabled]="editCard.status === 'INVALID'"
              (click)="updateFunction(item.cardId)"
            >
              Update
            </button>
            <div
              *ngIf="editCard.get('cardActualTime').hasError('max')"
              class="error"
            >
              Actual time must be 1 to 24.
            </div>
            <div
              *ngIf="editCard.get('cardActualTime').hasError('min')"
              class="error"
            >
              Actual time must be 1 to 24.
            </div>
          </form>
        </div>

        <div *ngIf="c.card.length > 0">
          <button class="btn btn-primary complete" (click)="updateComplete()">
            Update Complete
          </button>
        </div>
        <div *ngIf="c.card.length <= 0">Don't have card.</div>
      </div>
    </div>
  </div>
</div>
